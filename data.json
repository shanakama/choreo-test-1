{"id":149,"name":"Trigger","displayName":"Google Mail","documentation":"","moduleName":"trigger.google.mail","serviceTypes":[{"name":"GmailService","description":"Triggers when a new event related to Gmail is received.\nAvailable actions: onNewEmail, onNewThread, onEmailLabelAdded, onEmailStarred, onEmailLabelRemoved, onEmailStarRemoved, and onNewAttachment\n","functions":[{"isRemote":true,"documentation":"","name":"onNewEmail","parameters":[{"name":"message","typeName":"record","optional":false,"typeInfo":{"name":"Message","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"name":"threadId","typeName":"string","optional":false,"defaultable":false},{"name":"id","typeName":"string","optional":false,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"labelIds","typeName":"array","optional":true,"defaultable":false},{"name":"raw","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"internalDate","typeName":"string","optional":true,"defaultable":false},{"name":"sizeEstimate","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"headers","typeName":"map","optional":true,"defaultable":false},{"name":"headerTo","typeName":"string","optional":true,"defaultable":false},{"name":"headerFrom","typeName":"string","optional":true,"defaultable":false},{"name":"headerBcc","typeName":"string","optional":true,"defaultable":false},{"name":"headerCc","typeName":"string","optional":true,"defaultable":false},{"name":"headerSubject","typeName":"string","optional":true,"defaultable":false},{"name":"headerDate","typeName":"string","optional":true,"defaultable":false},{"name":"headerContentType","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"emailInlineImages","typeName":"array","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":true,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}},{"isRemote":true,"documentation":"","name":"onNewThread","parameters":[{"name":"thread","typeName":"record","optional":false,"typeInfo":{"name":"MailThread","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"name":"id","typeName":"string","optional":false,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"threadId","typeName":"string","optional":false,"defaultable":false},{"name":"id","typeName":"string","optional":false,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"labelIds","typeName":"array","optional":true,"defaultable":false},{"name":"raw","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"internalDate","typeName":"string","optional":true,"defaultable":false},{"name":"sizeEstimate","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"headers","typeName":"map","optional":true,"defaultable":false},{"name":"headerTo","typeName":"string","optional":true,"defaultable":false},{"name":"headerFrom","typeName":"string","optional":true,"defaultable":false},{"name":"headerBcc","typeName":"string","optional":true,"defaultable":false},{"name":"headerCc","typeName":"string","optional":true,"defaultable":false},{"name":"headerSubject","typeName":"string","optional":true,"defaultable":false},{"name":"headerDate","typeName":"string","optional":true,"defaultable":false},{"name":"headerContentType","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"emailInlineImages","typeName":"array","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"Message","typeName":"record","optional":false,"typeInfo":{"name":"Message","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"messages","typeName":"array","optional":true,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}},{"isRemote":true,"documentation":"","name":"onEmailLabelAdded","parameters":[{"name":"changedLabel","typeName":"record","optional":false,"typeInfo":{"name":"ChangedLabel","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"fields":[{"name":"threadId","typeName":"string","optional":false,"defaultable":false},{"name":"id","typeName":"string","optional":false,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"labelIds","typeName":"array","optional":true,"defaultable":false},{"name":"raw","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"internalDate","typeName":"string","optional":true,"defaultable":false},{"name":"sizeEstimate","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"headers","typeName":"map","optional":true,"defaultable":false},{"name":"headerTo","typeName":"string","optional":true,"defaultable":false},{"name":"headerFrom","typeName":"string","optional":true,"defaultable":false},{"name":"headerBcc","typeName":"string","optional":true,"defaultable":false},{"name":"headerCc","typeName":"string","optional":true,"defaultable":false},{"name":"headerSubject","typeName":"string","optional":true,"defaultable":false},{"name":"headerDate","typeName":"string","optional":true,"defaultable":false},{"name":"headerContentType","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"emailInlineImages","typeName":"array","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"messageDetail","typeName":"record","optional":false,"typeInfo":{"name":"Message","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"changedLabelId","typeName":"array","optional":true,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}},{"isRemote":true,"documentation":"","name":"onEmailStarred","parameters":[{"name":"message","typeName":"record","optional":false,"typeInfo":{"name":"Message","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"name":"threadId","typeName":"string","optional":false,"defaultable":false},{"name":"id","typeName":"string","optional":false,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"labelIds","typeName":"array","optional":true,"defaultable":false},{"name":"raw","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"internalDate","typeName":"string","optional":true,"defaultable":false},{"name":"sizeEstimate","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"headers","typeName":"map","optional":true,"defaultable":false},{"name":"headerTo","typeName":"string","optional":true,"defaultable":false},{"name":"headerFrom","typeName":"string","optional":true,"defaultable":false},{"name":"headerBcc","typeName":"string","optional":true,"defaultable":false},{"name":"headerCc","typeName":"string","optional":true,"defaultable":false},{"name":"headerSubject","typeName":"string","optional":true,"defaultable":false},{"name":"headerDate","typeName":"string","optional":true,"defaultable":false},{"name":"headerContentType","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"emailInlineImages","typeName":"array","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":true,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}},{"isRemote":true,"documentation":"","name":"onEmailLabelRemoved","parameters":[{"name":"changedLabel","typeName":"record","optional":false,"typeInfo":{"name":"ChangedLabel","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"fields":[{"name":"threadId","typeName":"string","optional":false,"defaultable":false},{"name":"id","typeName":"string","optional":false,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"labelIds","typeName":"array","optional":true,"defaultable":false},{"name":"raw","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"internalDate","typeName":"string","optional":true,"defaultable":false},{"name":"sizeEstimate","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"headers","typeName":"map","optional":true,"defaultable":false},{"name":"headerTo","typeName":"string","optional":true,"defaultable":false},{"name":"headerFrom","typeName":"string","optional":true,"defaultable":false},{"name":"headerBcc","typeName":"string","optional":true,"defaultable":false},{"name":"headerCc","typeName":"string","optional":true,"defaultable":false},{"name":"headerSubject","typeName":"string","optional":true,"defaultable":false},{"name":"headerDate","typeName":"string","optional":true,"defaultable":false},{"name":"headerContentType","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"emailInlineImages","typeName":"array","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"messageDetail","typeName":"record","optional":false,"typeInfo":{"name":"Message","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"changedLabelId","typeName":"array","optional":true,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}},{"isRemote":true,"documentation":"","name":"onEmailStarRemoved","parameters":[{"name":"message","typeName":"record","optional":false,"typeInfo":{"name":"Message","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"name":"threadId","typeName":"string","optional":false,"defaultable":false},{"name":"id","typeName":"string","optional":false,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"labelIds","typeName":"array","optional":true,"defaultable":false},{"name":"raw","typeName":"string","optional":true,"defaultable":false},{"name":"snippet","typeName":"string","optional":true,"defaultable":false},{"name":"historyId","typeName":"string","optional":true,"defaultable":false},{"name":"internalDate","typeName":"string","optional":true,"defaultable":false},{"name":"sizeEstimate","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"headers","typeName":"map","optional":true,"defaultable":false},{"name":"headerTo","typeName":"string","optional":true,"defaultable":false},{"name":"headerFrom","typeName":"string","optional":true,"defaultable":false},{"name":"headerBcc","typeName":"string","optional":true,"defaultable":false},{"name":"headerCc","typeName":"string","optional":true,"defaultable":false},{"name":"headerSubject","typeName":"string","optional":true,"defaultable":false},{"name":"headerDate","typeName":"string","optional":true,"defaultable":false},{"name":"headerContentType","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"emailInlineImages","typeName":"array","optional":true,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":true,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":true,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}},{"isRemote":true,"documentation":"","name":"onNewAttachment","parameters":[{"name":"attachment","typeName":"record","optional":false,"typeInfo":{"name":"MailAttachment","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"name":"messageId","typeName":"string","optional":false,"defaultable":false},{"memberType":{"fields":[{"name":"data","typeName":"string","optional":true,"defaultable":false},{"name":"mimeType","typeName":"string","optional":true,"defaultable":false},{"paramType":{"typeName":"string","optional":false,"defaultable":false},"name":"bodyHeaders","typeName":"map","optional":true,"defaultable":false},{"name":"fileId","typeName":"string","optional":true,"defaultable":false},{"name":"fileName","typeName":"string","optional":true,"defaultable":false},{"name":"partId","typeName":"string","optional":true,"defaultable":false},{"name":"size","typeName":"int","optional":true,"defaultable":false}],"hasRestType":true,"restType":{"typeName":"anydata","optional":false,"defaultable":false},"name":"MessageBodyPart","typeName":"record","optional":false,"typeInfo":{"name":"MessageBodyPart","orgName":"ballerinax","moduleName":"googleapis.gmail","version":"3.1.0"},"defaultable":false},"name":"msgAttachments","typeName":"array","optional":false,"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}}],"returnType":{"typeName":"error","optional":true,"displayAnnotation":{},"defaultable":false},"displayAnnotation":{}}],"displayAnnotation":{}}],"listenerParams":[{"name":"listenerConfig","typeName":"record","optional":false,"typeInfo":{"name":"ListenerConfig","orgName":"ballerinax","moduleName":"trigger.google.mail","version":"0.9.1"},"displayAnnotation":{},"hasRestType":true,"defaultable":false,"fields":[{"name":"clientId","typeName":"string","optional":false,"defaultable":false},{"name":"clientSecret","typeName":"string","optional":false,"defaultable":false},{"name":"refreshUrl","typeName":"string","optional":false,"defaultable":false},{"name":"refreshToken","typeName":"string","optional":false,"defaultable":false},{"name":"project","typeName":"string","optional":false,"defaultable":false},{"name":"callbackURL","typeName":"string","optional":false,"defaultable":false},{"fields":[{"name":"enable","typeName":"boolean","optional":false,"defaultable":true},{"members":[{"fields":[{"name":"path","typeName":"string","optional":false,"defaultable":false},{"name":"password","typeName":"string","optional":false,"defaultable":false}],"hasRestType":false,"name":"TrustStore","typeName":"record","optional":false,"typeInfo":{"name":"TrustStore","orgName":"ballerina","moduleName":"crypto","version":"2.3.0"},"defaultable":false},{"typeName":"string","optional":false,"defaultable":false}],"name":"cert","typeName":"union","optional":true,"defaultable":false},{"members":[{"fields":[{"name":"path","typeName":"string","optional":false,"defaultable":false},{"name":"password","typeName":"string","optional":false,"defaultable":false}],"hasRestType":false,"name":"KeyStore","typeName":"record","optional":false,"typeInfo":{"name":"KeyStore","orgName":"ballerina","moduleName":"crypto","version":"2.3.0"},"defaultable":false},{"fields":[{"name":"certFile","typeName":"string","optional":false,"defaultable":false},{"name":"keyFile","typeName":"string","optional":false,"defaultable":false},{"name":"keyPassword","typeName":"string","optional":true,"defaultable":false}],"hasRestType":false,"name":"CertKey","typeName":"record","optional":false,"typeInfo":{"name":"CertKey","orgName":"ballerina","moduleName":"http","version":"2.5.2"},"defaultable":false}],"name":"key","typeName":"union","optional":true,"defaultable":false},{"fields":[{"members":[{"typeName":"DTLS","optional":false,"defaultable":false},{"typeName":"TLS","optional":false,"defaultable":false},{"typeName":"SSL","optional":false,"defaultable":false}],"name":"name","typeName":"enum","optional":false,"typeInfo":{"name":"Protocol","orgName":"ballerina","moduleName":"http","version":"2.5.2"},"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"versions","typeName":"array","optional":false,"defaultable":true}],"hasRestType":false,"name":"protocol","typeName":"record","optional":true,"defaultable":false},{"fields":[{"members":[{"typeName":"OCSP_STAPLING","optional":false,"defaultable":false},{"typeName":"OCSP_CRL","optional":false,"defaultable":false}],"name":"type","typeName":"enum","optional":false,"typeInfo":{"name":"CertValidationType","orgName":"ballerina","moduleName":"http","version":"2.5.2"},"defaultable":true},{"name":"cacheSize","typeName":"int","optional":false,"defaultable":false},{"name":"cacheValidityPeriod","typeName":"int","optional":false,"defaultable":false}],"hasRestType":false,"name":"certValidation","typeName":"record","optional":true,"defaultable":false},{"memberType":{"typeName":"string","optional":false,"defaultable":false},"name":"ciphers","typeName":"array","optional":true,"defaultable":false},{"name":"verifyHostName","typeName":"boolean","optional":false,"defaultable":true},{"name":"shareSession","typeName":"boolean","optional":false,"defaultable":true},{"name":"handshakeTimeout","typeName":"decimal","optional":true,"defaultable":false},{"name":"sessionTimeout","typeName":"decimal","optional":true,"defaultable":false}],"hasRestType":false,"name":"secureSocketConfig","typeName":"record","optional":true,"typeInfo":{"name":"ClientSecureSocket","orgName":"ballerina","moduleName":"http","version":"2.5.2"},"defaultable":false}],"restType":{"typeName":"anydata","optional":false,"defaultable":false}},{"name":"listenOn","typeName":"union","optional":false,"defaultValue":"8090","displayAnnotation":{},"defaultable":true,"members":[{"typeName":"int","optional":false,"defaultable":false},{"fields":[],"name":"Listener","typeName":"object","optional":false,"typeInfo":{"name":"Listener","orgName":"ballerina","moduleName":"http","version":"2.5.2"},"defaultable":false}]}],"listenerProtocol":"http","displayAnnotation":{"label":"Google Mail","iconPath":"docs/icon.png"},"package":{"organization":"ballerinax","name":"trigger.google.mail","version":"0.9.1","platform":"any","languageSpecificationVersion":"2022R4","isDeprecated":false,"deprecateMessage":"","URL":"/ballerinax/trigger.google.mail/0.9.1","balaVersion":"2.0.0","balaURL":"https://fileserver.dev-central.ballerina.io/2.0/ballerinax/trigger.google.mail/0.9.1/ballerinax-trigger.google.mail-any-0.9.1.bala?md5=-zrSnNsn2YZ-4kBoQeieaQ&expires=1676106414","digest":"sha-256=8d34bbca8610a9010ea28f956e4295a8137edf04579c4c632d63023a981d2121","summary":"Listen to [Gmail](https://www.google.com/gmail/about/) from Ballerina","readme":"Listen to [Gmail](https://www.google.com/gmail/about/) from Ballerina\n\n## Package overview\n\nThe `ballerinax/trigger.google.mail` is a [Ballerina](https://ballerina.io/) trigger for Gmail.\nThis package provides the capability to access Gmail Webhook API.\n\n### Compatibility\n\n|                    | Version                       |\n| ------------------ | ------------------------------|\n| Ballerina Language | Ballerina Swan Lake 2201.0.1  |\n\n## Report issues\n\nTo report bugs, request new features, start new discussions, view project boards, etc., go to the [Ballerina AsyncAPI Triggers repository](https://github.com/ballerina-platform/asyncapi-triggers)\n\n## Useful links\n\n- Discuss code changes of the Ballerina project in [ballerina-dev@googlegroups.com](mailto:ballerina-dev@googlegroups.com).\n- Chat live with us via our [Slack channel](https://ballerina.io/community/slack/).\n- Post all technical questions on Stack Overflow with the [#ballerina](https://stackoverflow.com/questions/tagged/ballerina) tag","template":false,"licenses":["Apache-2.0"],"authors":["Ballerina"],"sourceCodeLocation":"https://github.com/ballerina-platform/asyncapi-triggers","keywords":["Cost/Freemium","Trigger"],"ballerinaVersion":"2201.3.1","icon":"https://bcentral-dev-packageicons.azureedge.net/images/ballerinax_trigger.google.mail_0.9.1.png","ownerUUID":"ed5d06a2-39fd-4cbd-ba56-037cfd893d9d","createdDate":1673495711000,"pullCount":25,"visibility":"public","modules":[{"packageURL":"/ballerinax/trigger.google.mail/0.9.1","apiDocURL":"https://dev-lib.ballerina.io/ballerinax/trigger.google.mail/0.9.1","name":"trigger.google.mail","summary":"The Gmail Ballerina Trigger supports to listen to the changes of Gmail mailbox such as receiving a new message, receiving a new thread, adding a new label to a message, adding star to a message, removing label from a message, removing star from a message, and receiving a new attachment with the following trigger methods: `onNewEmail`, `onNewThread`, `onEmailLabelAdded`, `onEmailStarred`, `onEmailLabelRemoved`,`onEmailStarRemoved`, `onNewAttachment`.","readme":"## Overview\n\nThe Gmail Ballerina Trigger supports to listen to the changes of Gmail mailbox such as receiving a new message, receiving a new thread, adding a new label to a message, adding star to a message, removing label from a message, removing star from a message, and receiving a new attachment with the following trigger methods: `onNewEmail`, `onNewThread`, `onEmailLabelAdded`, `onEmailStarred`, `onEmailLabelRemoved`,`onEmailStarRemoved`, `onNewAttachment`.\n\nThis module supports [Gmail API v1](https://developers.google.com/gmail/api).\n\n## Prerequisites\n\nBefore using this connector in your Ballerina application, complete the following:\n\n1. Create a [Google account](https://accounts.google.com/signup/v2/webcreateaccount?utm_source=ga-ob-search&utm_medium=google-account&flowName=GlifWebSignIn&flowEntry=SignUp). (If you already have one, you can use that.)\n\n2. Obtain tokens\n\n- Follow [this guide](https://developers.google.com/identity/protocols/oauth2)\n  > **Note :** Enable `Cloud Pub/Sub API` or user setup service account with pubsub admin role. [Create a service account](https://developers.google.com/identity/protocols/oauth2/service-account#creatinganaccount) with pubsub admin\n\n## Quickstart\n\nTo use the `Gmail` Trigger in your Ballerina application, update the .bal file as follows:\n\n### Step 1: Import the Gmail Ballerina Trigger library\n\nImport the ballerinax/trigger.google.mail module into the Ballerina project.\n\n```ballerina\n    import ballerinax/trigger.google.mail;\n```\n\n### Step 2: Initialize the Gmail Webhook Listener\n\nInitialize the Trigger by providing the listener config & port number/httpListener object.\n\n```ballerina\n    mail:ListenerConfig config = {\n        clientId: \"xxxx\",\n        clientSecret: \"xxxx\",\n        refreshUrl: \"https://oauth2.googleapis.com/token\",\n        refreshToken: \"xxxx\",\n        pushEndpoint: \"xxxx\",\n        project: \"xxxx\"\n    };\n    listener mail:Listener webhookListener = new(config, 8090);\n```\n\n> **NOTE :**\n>\n> Here\n>\n> - `project` is the Id of the project which is created in `Google Cloud Platform` to create credentials (`clientId` and `clientSecret`).\n> - `pushEndpoint` is the endpoint URL of the listener.\n\n### Step 3: Use the correct service type to implement the service\n\nInitialize the GmailService as below.\n\n```ballerina\nservice mail:GmailService on webhookListener {\n\n    remote function onEmailLabelAdded(mail:ChangedLabel changedLabel) returns error? {\n        return;\n    }\n\n    remote function onEmailLabelRemoved(mail:ChangedLabel changedLabel) returns error? {\n        return;\n    }\n\n    remote function onEmailStarRemoved(mail:Message message) returns error? {\n        return;\n    }\n\n    remote function onEmailStarred(mail:Message message) returns error? {\n        log:printInfo(message.toString());\n        return;\n    }\n\n    remote function onNewAttachment(mail:MailAttachment attachment) returns error? {\n        return;\n    }\n\n    remote function onNewEmail(mail:Message message) returns error? {\n        return;\n    }\n\n    remote function onNewThread(mail:MailThread thread) returns error? {\n        return;\n    }\n}\n```\n\n### Step 4: Provide remote functions corresponding to the events which you are interested on\n\nThe remote functions can be provided as follows.\n\n```ballerina\n    remote function onNewEmail(mail:Message message) returns error? {\n        log:printInfo(\"Received new email\", eventPayload = message);\n    }\n```"}]},"triggerType":"mail","httpBased":true}